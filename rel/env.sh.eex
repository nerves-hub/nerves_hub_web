#!/bin/sh

# Allow overriding the file in a known location
# Since this file's location changes with every version/commit
if [[ -f "/etc/nerves_hub/env.sh" ]];
then
  source "/etc/nerves_hub/env.sh"
  exit 0
fi

if [ "$APP_NAME" = "" ] || [ "$PRIVATE_IP" = "" ]
then
  echo "APP_NAME and PRIVATE_IP environment variables must be set for distributed erlang"
else
  export RELEASE_DISTRIBUTION=name
  export RELEASE_NODE=$APP_NAME@$PRIVATE_IP

  echo " Node name: $RELEASE_NODE"
fi
